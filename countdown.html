<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
<style>
body{
font-size:1.6rem;
font-family:sans-serif;
}
.time-setting{
position:absolute;
top:44%;
left:0;
right:0;
bottom:;
}
#hour{
font-weight:395;
font-size:1.2rem;
text-align:center;
width:1.3rem;
padding:0 0.5rem;
position:absolute;
border: 0;
outline: none;
border-bottom: 2px solid rgba(0, 0, 0, 0.1);
left:20%;
}
#min{
font-weight:395;
font-size:1.2rem;
text-align:center;
width:1.3rem;
padding:0 0.5rem;
position:absolute;
border: 0;
outline: none;
border-bottom: 2px solid rgba(0, 0, 0, 0.1);
left:45%;
}
#hours{
font-weight:290;
line-height:1rem;
align-items: center;
position:absolute;
left:34%;
}
#minutes{
font-weight:290;
line-height:1rem;
align-items: center;
position:absolute;
left:59%;
}
#start{
position:absolute;
top:43%;
left:72%;
align-items: center;
text-align:center;
border: 0;
outline: none;
transition-duration:0.4s;
 padding: 7px 14px;
 background-color: white;
 color:black;
 border:2px solid rgba(31, 202, 122, 0.781);
 border-radius: 15px;
}
#start:hover{
 background:rgba(31, 202, 122, 1);
 color: white;
}
.count{
font-family:sans-serif;
display:block;
position:fixed;
top:20%;
left:7%;
font-size:3rem;
color:rgba(31, 202, 122, 0.781);
}
#refresh{
position:fixed;
top:10%;
left:60%;
align-items: center;
text-align:center;
border: 0;
outline: none;
transition-duration:0.4s;
 padding: 7px 12px;
 background-color: white;
 color:black;
 border:2px solid rgba(31, 202, 122, 0.781);
 border-radius: 15px;
}
#refresh:hover{
 background:rgba(31, 202, 122, 1);
 color: white;
}
</style>
  </head>
  <body>


<input id="refresh" type="button" value="reload" onclick="reloadPage()">

<div class="time-setting">
    <div><input id="hour" type="number" placeholder="01" /><span id="hours">h<span></div>
    <div><input id="min" type="number" placeholder="00" /><span id="minutes">m<span></div>
</div>


<pre><code><p class="count"></p>

<button id="start">start</button>

</body>
<script>
  window.onload = function () {
    // countDown();

    document.querySelector("#start").addEventListener("click", () => {
      function addZero(i) {
        return i < 10 ? "0" + i : i + "";
      }

      var hour = document.querySelector("#hour");
      var min = document.querySelector("#min");
      var countTimeHour = parseInt(hour.value === "" ? "1" : hour.value);
      var countTimeMin = parseInt(min.value === "" ? "0" : min.value);

      var nowtime = new Date(); //ä½ å·²çŸ¥çš„æ—¶é—´
      var t_s = nowtime.getTime(); //è½¬åŒ–ä¸ºæ—¶é—´æˆ³æ¯«ç§’æ•°
      var endtime = new Date(); //å®šä¹‰ä¸€ä¸ªæ–°æ—¶é—´
      t_s = t_s + 1000 * 60 * countTimeMin; //è®¾ç½®æ–°æ—¶é—´æ¯”æ—§æ—¶é—´å¤šä¸€åˆ†é’Ÿ
      t_s = t_s + 1000 * 60 * 60 * countTimeHour; //è®¾ç½®æ–°æ—¶é—´æ¯”æ—§æ—¶é—´å¤šä¸€å°æ—¶;
      endtime.setTime(t_s);
      // nt.setTime(t_s+1000*60*60*24);//è®¾ç½®æ–°æ—¶é—´æ¯”æ—§æ—¶é—´å¤šä¸€å¤©

      countDown();

      function countDown() {
        var nowtime = new Date(); //ä½ å·²çŸ¥çš„æ—¶é—´
        //   var endtime = new Date("2019/03/16,17:57:00");
        var lefttime = parseInt(
          (endtime.getTime() - nowtime.getTime()) / 1000
        );
        var d = parseInt(lefttime / (24 * 60 * 60));
        var h = parseInt((lefttime / (60 * 60)) % 24);
        var m = parseInt((lefttime / 60) % 60);
        var s = parseInt(lefttime % 60);
        d = addZero(d);
        h = addZero(h);
        m = addZero(m);
        s = addZero(s);
        document.querySelector(
          ".count"
        ).innerHTML = `${d}:${h}:${m}:${s}`;
        if (lefttime <= 0) {
          document.querySelector(".count").innerHTML = "TIME OVER";
          var isShow = false;
          setInterval(() => {
            isShow = !isShow;
            if (isShow) {
              document.title = "ðŸ˜†TIME OVER!";
            } else {
              document.title = "";
            }
          }, 1000);
          return;
        }
        setTimeout(countDown, 1000);
      }
    });
    // window.countDown = function () {

    // };
  };
</script>


<script>
function reloadPage(){
Â Â location.reload()
}
</script>

